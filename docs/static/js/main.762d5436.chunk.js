(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__(8),factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE_react__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/reactn.js")}({"./src/global-state-manager.js":function srcGlobalStateManagerJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _object_get_listener__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object-get-listener */ "./src/object-get-listener.js");\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar GlobalStateManager =\n/*#__PURE__*/\nfunction () {\n  function GlobalStateManager() {\n    _classCallCheck(this, GlobalStateManager);\n\n    _defineProperty(this, "_state", Object.create(null));\n\n    _defineProperty(this, "listeners", new Map());\n\n    _defineProperty(this, "transactionId", 0);\n\n    _defineProperty(this, "transactions", new Map());\n  }\n\n  _createClass(GlobalStateManager, [{\n    key: "addListener",\n    // Map component instance to a state property.\n    value: function addListener(key, instance) {\n      if (this.listeners.has(key)) {\n        this.listeners.get(key).add(instance);\n      } else {\n        this.listeners.set(key, new Set([instance]));\n      }\n    }\n  }, {\n    key: "beginTransaction",\n    // Begin a transaction.\n    value: function beginTransaction() {\n      this.transactionId++;\n      this.transactions.set(this.transactionId, {\n        components: new Set(),\n        state: new Map()\n      });\n      return this.transactionId;\n    } // Commit a transaction.\n\n  }, {\n    key: "commit",\n    value: function commit(transactionId) {\n      var transaction = this.transactions.get(transactionId); // Commit all state changes.\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = transaction.state.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              value = _step$value[1];\n\n          this._state[key] = value;\n        } // Force update all components that were a part of this transaction.\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = transaction.components[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var instance = _step2.value;\n          instance.updater.enqueueForceUpdate(instance, null, \'forceUpdate\');\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this.transactions.delete(transactionId);\n    } // Unmap a component instance from all state properties.\n\n  }, {\n    key: "removeListeners",\n    value: function removeListeners(instance) {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.listeners.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var instances = _step3.value;\n\n          if (instances.has(instance)) {\n            instances.delete(instance);\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    } // Set a key-value pair as a part of a transaction.\n\n  }, {\n    key: "set",\n    value: function set(key, value, transactionId) {\n      var transaction = this.transactions.get(transactionId);\n      transaction.state.set(key, value);\n      var instances = this.listeners.get(key);\n\n      if (instances) {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = instances[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var instance = _step4.value;\n            transaction.components.add(instance);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n\n      return transactionId;\n    } // Set any type of state change.\n\n  }, {\n    key: "setAny",\n    value: function setAny(any) {\n      // No changes, e.g. getDerivedGlobalFromProps.\n      if (any === null) {\n        return;\n      }\n\n      if (any instanceof Promise) {\n        return this.setPromise(any);\n      }\n\n      if (typeof any === \'function\') {\n        return this.setFunction(any);\n      }\n\n      if (_typeof(any) === \'object\') {\n        return this.setObject(any);\n      }\n\n      throw new Error(\'Global state must be a function, null, object, or Promise.\');\n    }\n  }, {\n    key: "setFunction",\n    value: function setFunction(f) {\n      return this.setAny(f(this._state));\n    } // Set the state\'s key-value pairs via an object.\n\n  }, {\n    key: "setObject",\n    value: function setObject(obj) {\n      var tran = this.beginTransaction();\n\n      var _arr2 = Object.entries(obj);\n\n      for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n        var _arr2$_i = _slicedToArray(_arr2[_i2], 2),\n            key = _arr2$_i[0],\n            value = _arr2$_i[1];\n\n        this.set(key, value, tran);\n      }\n\n      this.commit(tran);\n    } // Set the state\'s key-value pairs via a promise.\n\n  }, {\n    key: "setPromise",\n    value: function setPromise(promise) {\n      var _this = this;\n\n      return promise.then(function (result) {\n        return _this.setAny(result);\n      });\n    } // Create a state instance that is unique to the component instance.\n\n  }, {\n    key: "state",\n    value: function state(componentInstance) {\n      var _this2 = this;\n\n      // When this._state is read, execute the listener.\n      return Object(_object_get_listener__WEBPACK_IMPORTED_MODULE_0__["default"])(this._state, function (key) {\n        _this2.addListener(key, componentInstance);\n      });\n    }\n  }]);\n\n  return GlobalStateManager;\n}();\n\n;\n/* harmony default export */ __webpack_exports__["default"] = (new GlobalStateManager());\n\n//# sourceURL=webpack://reactn/./src/global-state-manager.js?')},"./src/object-get-listener.js":function srcObjectGetListenerJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n// Return an object that executes a read listener.\nvar objectGetListener = function objectGetListener(obj, listener) {\n  return Object.keys(obj).reduce(function (accumulator, key) {\n    Object.defineProperty(accumulator, key, {\n      configurable: false,\n      enumerable: true,\n      get: function get() {\n        listener(key);\n        return obj[key];\n      }\n    });\n    return accumulator;\n  }, Object.create(null));\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (objectGetListener);\n\n//# sourceURL=webpack://reactn/./src/object-get-listener.js?')},"./src/reactn.js":function srcReactnJs(module,exports,__webpack_require__){eval('function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nvar React = __webpack_require__(/*! react */ "react");\n\nvar globalStateManager = __webpack_require__(/*! ./global-state-manager */ "./src/global-state-manager.js").default;\n\nvar reducers = Object.create(null);\n\nvar _componentWillUnmount = function componentWillUnmount(_this) {\n  // No longer re-render this component on global state change.\n  globalStateManager.removeListeners(_this);\n};\n\nvar getGlobal = function getGlobal(_this) {\n  return Object.assign(globalStateManager.state(_this), reducers);\n};\n\nvar _setGlobal = function setGlobal(global, callback, _this) {\n  var newGlobal = globalStateManager.setAny(global);\n\n  if (typeof callback === \'function\') {\n    if (newGlobal instanceof Promise) {\n      newGlobal.then(function () {\n        callback(_this.global);\n      });\n    } else {\n      callback(_this.global);\n    }\n  }\n}; // import React from \'reactn\';\n// React.Component, React.PureComponent\n\n\nvar createReactNComponentClass = function createReactNComponentClass(Super) {\n  return (\n    /*#__PURE__*/\n    function (_Super) {\n      _inherits(ReactNComponent, _Super);\n\n      function ReactNComponent() {\n        var _getPrototypeOf2;\n\n        var _this2;\n\n        _classCallCheck(this, ReactNComponent);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this2 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ReactNComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n        var proto = Object.getPrototypeOf(_assertThisInitialized(_assertThisInitialized(_this2))); // this.componentWillUnmount\n\n        var hasInstanceCWU = Object.prototype.hasOwnProperty.call(_assertThisInitialized(_assertThisInitialized(_this2)), \'componentWillUnmount\');\n        var hasProtoCWU = Object.prototype.hasOwnProperty.call(proto, \'componentWillUnmount\');\n\n        if (hasInstanceCWU || hasProtoCWU) {\n          var cb = hasInstanceCWU ? _this2.componentWillUnmount : proto.componentWillUnmount.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n\n          _this2.componentWillUnmount = function () {\n            _componentWillUnmount(_assertThisInitialized(_assertThisInitialized(_this2)));\n\n            cb.apply(void 0, arguments);\n          };\n        }\n\n        return _this2;\n      }\n\n      _createClass(ReactNComponent, [{\n        key: "componentWillUnmount",\n        value: function componentWillUnmount() {\n          _componentWillUnmount(this);\n        }\n      }, {\n        key: "setGlobal",\n        value: function setGlobal(global) {\n          var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _setGlobal(global, callback, this);\n        }\n      }, {\n        key: "global",\n        get: function get() {\n          return getGlobal(this);\n        }\n      }]);\n\n      return ReactNComponent;\n    }(Super)\n  );\n}; // @reactn\n\n\nvar ReactN = function ReactN(Component) {\n  var ReactNComponent =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(ReactNComponent, _Component);\n\n    function ReactNComponent() {\n      var _getPrototypeOf3;\n\n      _classCallCheck(this, ReactNComponent);\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(ReactNComponent)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    }\n\n    _createClass(ReactNComponent, [{\n      key: "componentWillUnmount",\n      value: function componentWillUnmount() {\n        _componentWillUnmount(this); // componentWillUnmount\n\n\n        if (_get(_getPrototypeOf(ReactNComponent.prototype), "componentWillUnmount", this)) {\n          var _get2;\n\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          (_get2 = _get(_getPrototypeOf(ReactNComponent.prototype), "componentWillUnmount", this)).call.apply(_get2, [this].concat(args));\n        }\n      }\n    }, {\n      key: "setGlobal",\n      value: function setGlobal(global) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n        _setGlobal(global, callback, this);\n      }\n    }, {\n      key: "global",\n      get: function get() {\n        return getGlobal(this);\n      }\n    }]);\n\n    return ReactNComponent;\n  }(Component); // getDerivedGlobalFromProps\n\n\n  if (Object.prototype.hasOwnProperty.call(Component, \'getDerivedGlobalFromProps\')) {\n    ReactNComponent.getDerivedStateFromProps = function (props) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      var newState = Component.getDerivedGlobalFromProps.apply(Component, [props, globalStateManager._state].concat(args));\n      globalStateManager.setAny(newState); // getDerivedStateFromProps\n\n      if (Object.prototype.hasOwnProperty.call(Component, \'getDerivedStateFromProps\')) {\n        return Component.getDerivedStateFromProps.apply(Component, [props].concat(args));\n      }\n\n      return null;\n    };\n  }\n\n  ReactNComponent.displayName = (Component.displayName || Component.name) + \'-ReactN\';\n  return ReactNComponent;\n};\n\nObject.assign(ReactN, React, {\n  addReducer: function addReducer(name, reducer) {\n    reducers[name] = function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      globalStateManager.setAny(reducer.apply(void 0, [globalStateManager._state].concat(args)));\n    };\n  },\n  Component: createReactNComponentClass(React.Component),\n  default: ReactN,\n  PureComponent: createReactNComponentClass(React.PureComponent),\n  setGlobal: function setGlobal(g) {\n    return globalStateManager.setAny(g);\n  }\n});\nmodule.exports = ReactN;\n\n//# sourceURL=webpack://reactn/./src/reactn.js?')},react:function react(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n//# sourceURL=webpack://reactn/external_%7B%22amd%22:%22react%22,%22commonjs%22:%22react%22,%22commonjs2%22:%22react%22,%22root%22:%22React%22%7D?")}})},"object"===_typeof(exports)&&"object"===_typeof(module)?module.exports=factory(__webpack_require__(11)):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(11)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(19)(module))},,,,,,,,,,,,,,function(e,t,n){e.exports=n(38)},,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(12),s=n.n(o),i=n(2),c=n(3),l=n(5),u=n(4),_=n(6),p=n(0),f=n.n(p),d=(n(22),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"card add-card"},f.a.createElement("button",{children:"+",className:"add-card-button",onClick:this.global.addCard,title:"Add a new card."}))}}]),t}(f.a.PureComponent)),m=(n(24),function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(){n.props.onSelect({multiverseid:n.props.multiverseid,name:n.props.name,set:n.props.set})},n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"search-result",onClick:this.handleClick,title:this.props.name},"(",this.props.set,") ",this.props.name)}}]),t}(a.a.PureComponent)),b=(n(26),function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={value:n.props.name},n.handleChange=function(e){n.setState({value:e.target.value},function(){""!==n.state.value&&n.global.searchCard(n.value)})},n.handleRef=function(e){n.props.onRef(e)},n.handleResultSelect=function(e){n.setState({value:e.name},function(){n.props.onResult(e)})},n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"search"},f.a.createElement("input",{onChange:this.handleChange,placeholder:"Card Name",ref:this.handleRef,type:"text",value:this.state.value}),this.results)}},{key:"results",get:function(){var e=this;if(!this.state.value||!Object.prototype.hasOwnProperty.call(this.global.searchedCards,this.value))return null;var t=this.global.searchedCards[this.value];return Array.isArray(t)?t.map(function(t){return f.a.createElement(m,Object.assign({key:t.multiverseid,onSelect:e.handleResultSelect},t))}):f.a.createElement("div",{children:t,className:"search-error"})}},{key:"value",get:function(){return this.state.value.toLowerCase()}}]),t}(f.a.PureComponent)),y=(n(28),function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).searchRef=null,n.handleAdd=function(){n.global.addCard({multiverseid:n.props.multiverseid,name:n.props.name,set:n.props.set})},n.handleMouseEnter=function(){n.searchRef&&n.searchRef.focus()},n.handleSearchRef=function(e){n.searchRef=e,e&&e.focus()},n.handleSearchResult=function(e){n.global.updateCard(n.props.id,e)},n.handleSubtract=function(){n.global.removeCard(n.props.id)},n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"card",onMouseEnter:this.handleMouseEnter,style:this.cardStyle},this.image,f.a.createElement("span",{children:"+",className:"card-add",onClick:this.handleAdd,title:"Copy this card."}),f.a.createElement(b,{name:this.props.name||"",onRef:this.handleSearchRef,onResult:this.handleSearchResult}),f.a.createElement("span",{children:"-",className:"card-subtract",onClick:this.handleSubtract,title:"Remove this card."}))}},{key:"image",get:function(){return this.props.multiverseid?f.a.createElement("img",{alt:this.props.name,className:"card-image",height:"100%",src:"https://i.mtgeni.us/"+this.props.multiverseid+".png",width:"100%"}):null}}]),t}(f.a.PureComponent)),h=(n(30),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"cards"},this.cards,f.a.createElement(d,null))}},{key:"cards",get:function(){return this.global.cards.map(function(e){return f.a.createElement(y,Object.assign({key:e.id},e))})}}]),t}(f.a.PureComponent)),g=(n(32),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.global.cards;return e.length%9===0?null:f.a.createElement("div",{className:"counter"},"Add"," ",f.a.createElement("strong",{children:9-e.length%9})," ","more.")}}]),t}(f.a.PureComponent)),v=(n(34),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",null,a.a.createElement("h1",null,"Magic: The Gathering Card Proxies"),a.a.createElement(g,null)),a.a.createElement("main",null,a.a.createElement(h,null)))}}]),t}(a.a.PureComponent)),C=n(9),j=n(13),O=n(7);Object(p.setGlobal)({cards:[],searchedCards:Object.create(null)});var k=Object.create(null);Object(p.addReducer)("addCard",function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=Date.now(),r=function(e){return e.id===n};-1!==e.cards.findIndex(r);)n++;return Object(O.a)({},e,{cards:Object(j.a)(e.cards).concat([Object(O.a)({id:n},t)])})}),Object(p.addReducer)("removeCard",function(e,t){var n=e.cards.findIndex(function(e){return e.id===t});if(-1===n)throw new Error("Card ID ".concat(t," cannot be found."));return Object(O.a)({},e,{cards:e.cards.slice(0,n).concat(e.cards.slice(n+1,e.cards.length+1))})}),Object(p.addReducer)("searchCard",function(e,t){return Object.prototype.hasOwnProperty.call(e.searchedCards,t)?null:fetch("https://api.mtgeni.us/mtg.json?q="+encodeURIComponent(t)).then(function(e){return e.json()}).catch(function(e){return e.message}).then(function(n){return Object(O.a)({},e,{searchedCards:Object(O.a)({},e.searchedCards,Object(C.a)({},t,n))})})}),Object(p.addReducer)("updateCard",function(e,t,n){var r=e.cards.findIndex(function(e){return e.id===t});if(-1===r)throw new Error("Card ID ".concat(t," cannot be found."));return Object(O.a)({},e,{cards:e.cards.slice(0,r).concat([Object(O.a)({id:t},n)]).concat(e.cards.slice(r+1,e.cards.length+1))})});n(36);s.a.render(a.a.createElement(v,null),document.getElementById("root"))}],[[14,2,1]]]);
//# sourceMappingURL=main.762d5436.chunk.js.map