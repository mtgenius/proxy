(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__(4),factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE_react__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/reactn.js")}({"./node_modules/use-force-update/use-force-update.js":function node_modulesUseForceUpdateUseForceUpdateJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === "function" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i["return"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar react_1 = __webpack_require__(/*! react */ "react");\n\nvar max = 9007199254740990;\n\nvar useForceUpdate = function () {\n  var _a = __read(react_1.useState(0), 2),\n      setState = _a[1];\n\n  var forceUpdate = function () {\n    setState(function (state) {\n      return (state + 1) % max;\n    });\n  };\n\n  return forceUpdate;\n};\n\nexports.default = useForceUpdate;\n\n//# sourceURL=webpack://reactn/./node_modules/use-force-update/use-force-update.js?')},"./src/class.js":function srcClassJs(module,exports,__webpack_require__){eval("var globalStateManager = __webpack_require__(/*! ./global-state-manager */ \"./src/global-state-manager.js\");\n\nmodule.exports = {\n  classComponentWillUnmount: function classComponentWillUnmount(_this) {\n    // No longer re-render this component on global state change.\n    globalStateManager.removeKeyListener(_this._globalCallback);\n  },\n  classEnqueueForceUpdate: function classEnqueueForceUpdate(_this) {\n    _this.updater.enqueueForceUpdate(_this, null, 'forceUpdate');\n  },\n  classGetGlobal: function classGetGlobal(_this) {\n    return globalStateManager.spyStateWithReducers(_this._globalCallback);\n  },\n  classSetGlobal: function classSetGlobal(_this, global, callback) {\n    globalStateManager.setAnyCallback(global, callback);\n  }\n};\n\n//# sourceURL=webpack://reactn/./src/class.js?")},"./src/global-state-manager.js":function srcGlobalStateManagerJs(module,exports,__webpack_require__){eval('function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar objectGetListener = __webpack_require__(/*! ./object-get-listener */ "./src/object-get-listener.js");\n\nvar reducers = __webpack_require__(/*! ./reducers */ "./src/reducers.js");\n\nvar MAX_SAFE_INTEGER = 9007199254740990;\n\nvar GlobalStateManager =\n/*#__PURE__*/\nfunction () {\n  function GlobalStateManager() {\n    _classCallCheck(this, GlobalStateManager);\n\n    _defineProperty(this, "_keyListeners", new Map());\n\n    _defineProperty(this, "_state", Object.create(null));\n\n    _defineProperty(this, "_transactionId", 0);\n\n    _defineProperty(this, "_transactions", new Map());\n  }\n\n  _createClass(GlobalStateManager, [{\n    key: "addKeyListener",\n    // Map component instance to a state property.\n    value: function addKeyListener(key, keyListener) {\n      if (this._keyListeners.has(key)) {\n        this._keyListeners.get(key).add(keyListener);\n      } else {\n        this._keyListeners.set(key, new Set([keyListener]));\n      }\n    }\n  }, {\n    key: "beginTransaction",\n    // Begin a transaction.\n    value: function beginTransaction() {\n      this._transactionId = (this._transactionId + 1) % MAX_SAFE_INTEGER;\n\n      this._transactions.set(this._transactionId, {\n        keyListeners: new Set(),\n        state: new Map()\n      });\n\n      return this._transactionId;\n    } // Commit a transaction.\n\n  }, {\n    key: "commit",\n    value: function commit(transactionId) {\n      var transaction = this._transactions.get(transactionId); // Commit all state changes.\n\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = transaction.state.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              value = _step$value[1];\n\n          this._state[key] = value;\n        } // Force update all components that were a part of this transaction.\n\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = transaction.keyListeners[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var keyListener = _step2.value;\n          keyListener();\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this._transactions.delete(transactionId);\n    } // Unmap a component instance from all state properties.\n\n  }, {\n    key: "removeKeyListener",\n    value: function removeKeyListener(keyListener) {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this._keyListeners.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var keyListeners = _step3.value;\n          keyListeners.delete(keyListener);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    } // Set a key-value pair as a part of a transaction.\n\n  }, {\n    key: "set",\n    value: function set(key, value, transactionId) {\n      var transaction = this._transactions.get(transactionId);\n\n      transaction.state.set(key, value);\n\n      var keyListeners = this._keyListeners.get(key);\n\n      if (keyListeners) {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = keyListeners[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var keyListener = _step4.value;\n            transaction.keyListeners.add(keyListener);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n\n      return transactionId;\n    } // Set any type of state change.\n\n  }, {\n    key: "setAny",\n    value: function setAny(any) {\n      // No changes, e.g. getDerivedGlobalFromProps.\n      if (any === null) {\n        return;\n      }\n\n      if (any instanceof Promise) {\n        return this.setPromise(any);\n      }\n\n      if (typeof any === \'function\') {\n        return this.setFunction(any);\n      }\n\n      if (_typeof(any) === \'object\') {\n        return this.setObject(any);\n      }\n\n      throw new Error(\'Global state must be a function, null, object, or Promise.\');\n    }\n  }, {\n    key: "setAnyCallback",\n    value: function setAnyCallback(any) {\n      var _this = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var newGlobal = this.setAny(any); // If there is a callback,\n\n      if (typeof callback === \'function\') {\n        if (newGlobal instanceof Promise) {\n          newGlobal.then(function () {\n            callback(_this.stateWithReducers);\n          });\n        } else {\n          callback(this.stateWithReducers);\n        }\n      }\n    }\n  }, {\n    key: "setFunction",\n    value: function setFunction(f) {\n      return this.setAny(f(this.stateWithReducers));\n    } // Set the state\'s key-value pairs via an object.\n\n  }, {\n    key: "setObject",\n    value: function setObject(obj) {\n      var tran = this.beginTransaction();\n\n      var _arr2 = Object.entries(obj);\n\n      for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n        var _arr2$_i = _slicedToArray(_arr2[_i2], 2),\n            key = _arr2$_i[0],\n            value = _arr2$_i[1];\n\n        this.set(key, value, tran);\n      }\n\n      this.commit(tran);\n    } // Set the state\'s key-value pairs via a promise.\n\n  }, {\n    key: "setPromise",\n    value: function setPromise(promise) {\n      var _this2 = this;\n\n      return promise.then(function (result) {\n        return _this2.setAny(result);\n      });\n    }\n  }, {\n    key: "spyState",\n    value: function spyState(keyListener) {\n      var _this3 = this;\n\n      // When this._state is read, execute the listener.\n      return objectGetListener(this._state, function (key) {\n        _this3.addKeyListener(key, keyListener);\n      });\n    }\n  }, {\n    key: "spyStateWithReducers",\n    value: function spyStateWithReducers(keyListener) {\n      return Object.assign(Object.create(null), this.spyState(keyListener), reducers);\n    }\n  }, {\n    key: "stateWithReducers",\n    get: function get() {\n      return Object.assign(Object.create(null), this._state, reducers);\n    }\n  }]);\n\n  return GlobalStateManager;\n}();\n\n;\nmodule.exports = new GlobalStateManager();\n\n//# sourceURL=webpack://reactn/./src/global-state-manager.js?')},"./src/object-get-listener.js":function srcObjectGetListenerJs(module,exports){eval("// Return an object that executes a read listener.\nvar objectGetListener = function objectGetListener(obj, listener) {\n  return Object.keys(obj).reduce(function (accumulator, key) {\n    Object.defineProperty(accumulator, key, {\n      configurable: false,\n      enumerable: true,\n      get: function get() {\n        listener(key);\n        return obj[key];\n      }\n    });\n    return accumulator;\n  }, Object.create(null));\n};\n\nmodule.exports = objectGetListener;\n\n//# sourceURL=webpack://reactn/./src/object-get-listener.js?")},"./src/reactn.js":function srcReactnJs(module,exports,__webpack_require__){eval('function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = __webpack_require__(/*! react */ "react");\n\nvar useForceUpdate = __webpack_require__(/*! use-force-update */ "./node_modules/use-force-update/use-force-update.js").default;\n\nvar _require = __webpack_require__(/*! ./class */ "./src/class.js"),\n    classComponentWillUnmount = _require.classComponentWillUnmount,\n    classEnqueueForceUpdate = _require.classEnqueueForceUpdate,\n    classGetGlobal = _require.classGetGlobal,\n    classSetGlobal = _require.classSetGlobal;\n\nvar globalStateManager = __webpack_require__(/*! ./global-state-manager */ "./src/global-state-manager.js");\n\nvar reducers = __webpack_require__(/*! ./reducers */ "./src/reducers.js"); // import React from \'reactn\';\n// React.Component, React.PureComponent\n\n\nvar createReactNComponentClass = function createReactNComponentClass(Super) {\n  return (\n    /*#__PURE__*/\n    function (_Super) {\n      _inherits(ReactNComponent, _Super);\n\n      function ReactNComponent() {\n        var _getPrototypeOf2;\n\n        var _this;\n\n        _classCallCheck(this, ReactNComponent);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ReactNComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n        _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "_globalCallback", function () {\n          classEnqueueForceUpdate(_assertThisInitialized(_assertThisInitialized(_this)));\n        });\n\n        var proto = Object.getPrototypeOf(_assertThisInitialized(_assertThisInitialized(_this))); // this.componentWillUnmount\n\n        var hasInstanceCWU = Object.prototype.hasOwnProperty.call(_assertThisInitialized(_assertThisInitialized(_this)), \'componentWillUnmount\');\n        var hasProtoCWU = Object.prototype.hasOwnProperty.call(proto, \'componentWillUnmount\');\n\n        if (hasInstanceCWU || hasProtoCWU) {\n          var cb = hasInstanceCWU ? _this.componentWillUnmount : proto.componentWillUnmount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n          _this.componentWillUnmount = function () {\n            classComponentWillUnmount(_assertThisInitialized(_assertThisInitialized(_this)));\n            cb.apply(void 0, arguments);\n          };\n        }\n\n        return _this;\n      }\n\n      _createClass(ReactNComponent, [{\n        key: "componentWillUnmount",\n        value: function componentWillUnmount() {\n          classComponentWillUnmount(this);\n        }\n      }, {\n        key: "setGlobal",\n        value: function setGlobal(global) {\n          var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n          classSetGlobal(this, global, callback);\n        }\n      }, {\n        key: "global",\n        get: function get() {\n          return classGetGlobal(this);\n        }\n      }]);\n\n      return ReactNComponent;\n    }(Super)\n  );\n}; // @reactn\n\n\nvar ReactN = function ReactN(Component) {\n  var ReactNComponent =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(ReactNComponent, _Component);\n\n    function ReactNComponent() {\n      var _getPrototypeOf3;\n\n      _classCallCheck(this, ReactNComponent);\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(ReactNComponent)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    }\n\n    _createClass(ReactNComponent, [{\n      key: "componentWillUnmount",\n      value: function componentWillUnmount() {\n        classComponentWillUnmount(this); // componentWillUnmount\n\n        if (_get(_getPrototypeOf(ReactNComponent.prototype), "componentWillUnmount", this)) {\n          var _get2;\n\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          (_get2 = _get(_getPrototypeOf(ReactNComponent.prototype), "componentWillUnmount", this)).call.apply(_get2, [this].concat(args));\n        }\n      }\n    }, {\n      key: "_globalCallback",\n      value: function _globalCallback() {\n        classEnqueueForceUpdate(this);\n      }\n    }, {\n      key: "setGlobal",\n      value: function setGlobal(global) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        classSetGlobal(this, global, callback);\n      }\n    }, {\n      key: "global",\n      get: function get() {\n        return classGetGlobal(this);\n      }\n    }]);\n\n    return ReactNComponent;\n  }(Component); // getDerivedGlobalFromProps\n\n\n  if (Object.prototype.hasOwnProperty.call(Component, \'getDerivedGlobalFromProps\')) {\n    ReactNComponent.getDerivedStateFromProps = function (props) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      var newState = Component.getDerivedGlobalFromProps.apply(Component, [props, globalStateManager.stateWithReducers].concat(args));\n      globalStateManager.setAny(newState); // getDerivedStateFromProps\n\n      if (Object.prototype.hasOwnProperty.call(Component, \'getDerivedStateFromProps\')) {\n        return Component.getDerivedStateFromProps.apply(Component, [props].concat(args));\n      }\n\n      return null;\n    };\n  }\n\n  ReactNComponent.displayName = (Component.displayName || Component.name) + \'-ReactN\';\n  return ReactNComponent;\n};\n\nObject.assign(ReactN, React, {\n  addReducer: function addReducer(name, reducer) {\n    reducers[name] = function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      globalStateManager.setAny(reducer.apply(void 0, [globalStateManager.stateWithReducers].concat(args)));\n    };\n  },\n  Component: createReactNComponentClass(React.Component),\n  default: ReactN,\n  PureComponent: createReactNComponentClass(React.PureComponent),\n  setGlobal: function setGlobal(global) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return globalStateManager.setAnyCallback(global, callback);\n  },\n  useGlobal: function useGlobal(property) {\n    var setterOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    // Require v16.7\n    if (!React.useState) {\n      throw new Error(\'React v16.7 or newer is required for useGlobal.\');\n    }\n\n    var forceUpdate = useForceUpdate(); // If this component ever updates or unmounts, remove the force update listener.\n\n    React.useEffect(function () {\n      return function () {\n        globalStateManager.removeKeyListener(forceUpdate);\n      };\n    }); // Return the entire global state.\n\n    if (!property) {\n      var globalStateSetter = function globalStateSetter(global) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        setGlobal(global, callback, function () {\n          return globalStateManager.stateWithReducers;\n        });\n      };\n\n      if (setterOnly) {\n        return globalStateSetter;\n      }\n\n      return [globalStateManager.spyStateWithReducers(forceUpdate), globalStateSetter];\n    } // Use a reducer.\n\n\n    if (typeof property === \'function\') {\n      return function globalReducer() {\n        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n          args[_key6] = arguments[_key6];\n        }\n\n        globalStateManager.setAny(property.apply(void 0, [globalStateManager.stateWithReducers].concat(args)));\n      };\n    }\n\n    if (Object.prototype.hasOwnProperty.call(reducers, property)) {\n      return reducers[property];\n    }\n\n    var globalPropertySetter = function globalPropertySetter(value) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      globalStateManager.setAnyCallback(_defineProperty({}, property, value), callback);\n    }; // Return only the setter (better performance).\n\n\n    if (setterOnly) {\n      return globalPropertySetter;\n    } // Return both getter and setter.\n\n\n    return [globalStateManager.spyState(forceUpdate)[property], globalPropertySetter];\n  }\n});\nmodule.exports = ReactN;\n\n//# sourceURL=webpack://reactn/./src/reactn.js?')},"./src/reducers.js":function srcReducersJs(module,exports){eval("var reducers = Object.create(null);\nmodule.exports = reducers;\n\n//# sourceURL=webpack://reactn/./src/reducers.js?")},react:function react(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n//# sourceURL=webpack://reactn/external_%7B%22amd%22:%22react%22,%22commonjs%22:%22react%22,%22commonjs2%22:%22react%22,%22root%22:%22React%22,%22umd%22:%22react%22%7D?")}})},"object"===_typeof(exports)&&"object"===_typeof(module)?module.exports=factory(__webpack_require__(0)):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(0)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(14)(module))},,,,,,,,function(e,t,n){e.exports=n(31)},,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),s=n.n(o),l=n(3),i=n(1),c=(n(15),function(){var e=Object(i.useGlobal)("addCard");return a.a.createElement("div",{className:"card add-card"},a.a.createElement("button",{children:"+",className:"add-card-button",onClick:e,title:"Add a new card."}))}),u=(n(17),function(e){var t=e.multiverseid,n=e.name,r=e.onSelect,o=e.set;return a.a.createElement("div",{className:"search-result",onClick:function(){r({multiverseid:t,name:n,set:o})},title:n},"(",o,") ",n)}),_=(n(19),n(5)),p=n(2),f=function(e,t){return Object.prototype.hasOwnProperty.call(e.searchedCards,t)?null:fetch("https://api.mtgeni.us/mtg.json?q="+encodeURIComponent(t)).then(function(e){return e.json()}).catch(function(e){return e.message}).then(function(n){return Object(p.a)({},e,{searchedCards:Object(p.a)({},e.searchedCards,Object(_.a)({},t,n))})})},d=a.a.forwardRef(function(e,t){var n=e.name,o=e.onResult,s=Object(i.useGlobal)("searchedCards"),c=Object(l.a)(s,1)[0],_=function(e,t){var n=Object(i.useGlobal)(f),a=Object(r.useState)(e),o=Object(l.a)(a,2),s=o[0],c=o[1];return{handleChange:function(e){c(e.target.value),""!==e.target.value&&n(e.target.value.toLowerCase())},handleResultSelect:function(e){c(e.name),t(e)},value:s}}(n,o),p=_.handleChange,d=_.handleResultSelect,y=_.value,b=y.toLowerCase();return a.a.createElement("div",{className:"search"},a.a.createElement("input",{onChange:p,placeholder:"Card Name",ref:t,type:"text",value:y}),y&&Object.prototype.hasOwnProperty.call(c,b)?Array.isArray(c[b])?c[b].map(function(e){return a.a.createElement(u,Object.assign({key:e.multiverseid,onSelect:d},e))}):a.a.createElement("div",{children:c[b],className:"search-error"}):null)}),y=(n(21),function(e,t){var n=e.cards.findIndex(function(e){return e.id===t});if(-1===n)throw new Error("Card ID ".concat(t," cannot be found."));return Object(p.a)({},e,{cards:e.cards.slice(0,n).concat(e.cards.slice(n+1,e.cards.length+1))})}),b=function(e,t,n){var r=e.cards.findIndex(function(e){return e.id===t});if(-1===r)throw new Error("Card ID ".concat(t," cannot be found."));return Object(p.a)({},e,{cards:e.cards.slice(0,r).concat([Object(p.a)({id:t},n)]).concat(e.cards.slice(r+1,e.cards.length+1))})},m=function(e){var t=e.id,n=e.multiverseid,o=e.name,s=e.set,l=Object(i.useGlobal)("addCard"),c=Object(i.useGlobal)(y),u=Object(r.useRef)(null),_=Object(i.useGlobal)(b);return a.a.createElement("div",{className:"card",onMouseEnter:function(){u.current.focus()}},n?a.a.createElement("img",{alt:o,className:"card-image",height:"100%",src:"https://i.mtgeni.us/"+n+".png",width:"100%"}):null,a.a.createElement("span",{children:"+",className:"card-add",onClick:function(){l({multiverseid:n,name:o,set:s})},title:"Copy this card."}),a.a.createElement(d,{name:o||"",onResult:function(e){_(t,e)},ref:u}),a.a.createElement("span",{children:"-",className:"card-subtract",onClick:function(){c(t)},title:"Remove this card."}))};n(23);var g=function(){var e=Object(i.useGlobal)("cards"),t=Object(l.a)(e,1)[0];return a.a.createElement("div",{className:"cards"},t.map(function(e){return a.a.createElement(m,Object.assign({key:e.id},e))}),a.a.createElement(c,null))},h=(n(25),function(){var e=Object(i.useGlobal)("cards"),t=Object(l.a)(e,1)[0];return t.length%9===0?null:a.a.createElement("div",{className:"counter"},"Add"," ",a.a.createElement("strong",{children:9-t.length%9})," ","more.")}),v=(n(27),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",null,a.a.createElement("h1",null,"Magic: The Gathering Card Proxies"),a.a.createElement(h,null)),a.a.createElement("main",null,a.a.createElement(g,null)))}),k=n(8);Object(i.setGlobal)({cards:[],searchedCards:Object.create(null)});var C=Object.create(null);Object(i.addReducer)("addCard",function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=Date.now(),r=function(e){return e.id===n};-1!==e.cards.findIndex(r);)n++;return Object(p.a)({},e,{cards:Object(k.a)(e.cards).concat([Object(p.a)({id:n},t)])})});n(29);s.a.render(a.a.createElement(v,null),document.getElementById("root"))}],[[9,2,1]]]);
//# sourceMappingURL=main.33baf544.chunk.js.map